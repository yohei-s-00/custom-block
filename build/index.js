!function(){"use strict";var e,t={683:function(e,t,n){var r=window.wp.blocks;function o(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var u=e.apply(t,n);function a(e){o(u,r,i,a,c,"next",e)}function c(e){o(u,r,i,a,c,"throw",e)}a(void 0)}))}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=window.wp.element,c=window.regeneratorRuntime,l=n.n(c),s=window.wp.i18n,f=window.wp.blockEditor,p=window.wp.components,v=window.React;(0,r.registerBlockType)("create-block/custom-block",{edit:function(e){var t,n,r=e.attributes,o=e.setAttributes,c=r.youtubeId,d=r.apiKey,y=(r.live,t=(0,v.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],_n=!0,u=!1;try{for(n=n.call(e);!(_n=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);_n=!0);}catch(e){u=!0,o=e}finally{try{_n||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=y[0],b=y[1];return(0,v.useEffect)((function(){function e(){return(e=i(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.googleapis.com/youtube/v3/videos?id=".concat(c,"&key=").concat(d,"&fields=items(id,snippet(title,liveBroadcastContent))&part=snippet"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n.items[0].snippet.liveBroadcastContent),"live"==n.items[0].snippet.liveBroadcastContent?(b(!0),console.log(m),o({live:!0})):(b(!1),o({live:!1}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),(0,a.createElement)("div",(0,f.useBlockProps)(),(0,a.createElement)(p.Placeholder,{label:(0,s.__)("Gutenpride Block","gutenpride"),instructions:(0,s.__)("Add your message","gutenpride")},(0,a.createElement)(p.TextControl,{value:c,label:(0,s.__)("youtubeId","gutenpride"),type:"text",onChange:function(e){o({youtubeId:e})}}),(0,a.createElement)(p.TextControl,{value:d,label:(0,s.__)("api-key","gutenpride"),type:"text",onChange:function(e){o({apiKey:e})}})),(0,a.createElement)("p",null,m?"ライブ":"準備中"))},save:function(e){var t=e.attributes.live;return(0,a.createElement)("div",f.useBlockProps.save(),t?(0,a.createElement)("p",null,"NOW LIVE"):(0,a.createElement)("p",null,"準備中"))}})}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=function(t,n,o,i){if(!n){var u=1/0;for(s=0;s<e.length;s++){n=e[s][0],o=e[s][1],i=e[s][2];for(var a=!0,c=0;c<n.length;c++)(!1&i||u>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(a=!1,i<u&&(u=i));if(a){e.splice(s--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,o,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,46:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,u=n[0],a=n[1],c=n[2],l=0;if(u.some((function(t){return 0!==e[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(c)var s=c(r)}for(t&&t(n);l<u.length;l++)i=u[l],r.o(e,i)&&e[i]&&e[i][0](),e[u[l]]=0;return r.O(s)},n=self.webpackChunkcustom_block=self.webpackChunkcustom_block||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[46],(function(){return r(683)}));o=r.O(o)}();